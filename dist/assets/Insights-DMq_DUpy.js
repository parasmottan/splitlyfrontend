import{r as x,j as e,b as E}from"./index-B3lqKPvk.js";import{B as m}from"./BottomNav-DIlQ7RtU.js";import{S as s}from"./Skeleton-D7zNthvj.js";import"./index-CCTur-5o.js";import"./index-BJ7B7Yjc.js";function B(){var c,h,g;const[r,y]=x.useState(null),[b,a]=x.useState(!0),[j,S]=x.useState("all"),l=async t=>{a(!0);try{const i=t&&t!=="all"?`/insights?groupId=${t}`:"/insights",{data:n}=await E.get(i);y(n)}catch(i){console.error(i)}a(!1)};x.useEffect(()=>{l()},[]);const v=t=>{S(t),l(t)};if(b&&!r)return e.jsxs("div",{style:{background:"#F2F2F7",minHeight:"100dvh",maxWidth:"430px",margin:"0 auto",padding:"0 20px 100px"},children:[e.jsxs("div",{style:{padding:"16px 0 20px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx(s,{width:"120px",height:"24px"}),e.jsx(s,{width:"28px",height:"28px",borderRadius:"50%"})]}),e.jsxs("div",{style:{background:"#fff",borderRadius:"24px",padding:"28px 24px",textAlign:"center",marginBottom:"16px"},children:[e.jsx(s,{width:"140px",height:"140px",borderRadius:"50%",style:{margin:"0 auto 20px"}}),e.jsx(s,{width:"120px",height:"22px",style:{margin:"0 auto 12px"}}),e.jsx(s,{width:"180px",height:"36px",borderRadius:"100px",style:{margin:"0 auto"}})]}),e.jsxs("div",{style:{display:"flex",gap:"12px"},children:[e.jsxs("div",{style:{flex:1,background:"#fff",borderRadius:"16px",padding:"20px"},children:[e.jsx(s,{width:"80%",height:"14px",style:{marginBottom:"8px"}}),e.jsx(s,{width:"60%",height:"28px"})]}),e.jsxs("div",{style:{flex:1,background:"#fff",borderRadius:"16px",padding:"20px"},children:[e.jsx(s,{width:"80%",height:"14px",style:{marginBottom:"8px"}}),e.jsx(s,{width:"60%",height:"28px"})]})]}),e.jsx(m,{})]});const w=((c=r==null?void 0:r.categories)==null?void 0:c.length)>0?Math.max(...r.categories.map(t=>t.amount)):0,k="‚Çπ",d=(r==null?void 0:r.fairnessScore)||88,p=2*Math.PI*50,C=d/100*p;return e.jsxs("div",{style:{background:"#F2F2F7",minHeight:"100dvh",maxWidth:"430px",margin:"0 auto"},children:[e.jsxs("div",{style:{padding:"16px 20px 0",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx("button",{onClick:()=>window.history.back(),style:{background:"none",border:"none",fontSize:"20px",cursor:"pointer",color:"#1C1C1E"},children:"‚Üê"}),e.jsx("h1",{style:{position:"absolute",left:"50%",transform:"translateX(-50%)",fontSize:"15px",fontWeight:"700",letterSpacing:"1px",color:"#6347F5",textTransform:"uppercase"},children:"INSIGHTS"}),e.jsx("button",{style:{background:"none",border:"none",fontSize:"20px",cursor:"pointer",color:"#1C1C1E"},children:"‚Ä¢‚Ä¢‚Ä¢"})]}),e.jsxs("div",{style:{padding:"20px 20px 100px"},children:[((h=r==null?void 0:r.groupTabs)==null?void 0:h.length)>0&&e.jsx("div",{style:{display:"flex",gap:"8px",overflowX:"auto",marginBottom:"20px",paddingBottom:"4px",WebkitOverflowScrolling:"touch"},children:["All",...r.groupTabs.map(t=>t.name)].map((t,i)=>{const n=i===0?"all":r.groupTabs[i-1]._id,o=j===n;return e.jsx("button",{onClick:()=>v(n),style:{padding:"8px 18px",borderRadius:"100px",whiteSpace:"nowrap",background:o?"var(--blue)":"#fff",color:o?"#fff":"#8E8E93",fontWeight:"600",fontSize:"14px",border:"none",cursor:"pointer",boxShadow:"0 2px 8px rgba(0,0,0,0.06)",flexShrink:0},children:t},n)})}),e.jsxs("div",{style:{background:"#fff",borderRadius:"28px",padding:"32px 24px 24px",marginBottom:"16px",textAlign:"center",boxShadow:"0 4px 20px rgba(0,0,0,0.06)"},children:[e.jsxs("div",{style:{position:"relative",width:"180px",height:"180px",margin:"0 auto 20px"},children:[e.jsxs("svg",{width:"180",height:"180",viewBox:"0 0 120 120",style:{transform:"rotate(-90deg)"},children:[e.jsx("circle",{cx:"60",cy:"60",r:"50",fill:"none",stroke:"#F0EEFF",strokeWidth:"12"}),e.jsx("circle",{cx:"60",cy:"60",r:"50",fill:"none",stroke:"url(#scoreGrad)",strokeWidth:"12",strokeLinecap:"round",strokeDasharray:`${C} ${p}`}),e.jsx("defs",{children:e.jsxs("linearGradient",{id:"scoreGrad",x1:"0",y1:"0",x2:"1",y2:"0",children:[e.jsx("stop",{offset:"0%",stopColor:"#6347F5"}),e.jsx("stop",{offset:"100%",stopColor:"#A78BFA"})]})})]}),e.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center"},children:[e.jsx("span",{style:{fontSize:"44px",fontWeight:"800",color:"#1C1C1E",letterSpacing:"-2px"},children:d}),e.jsx("br",{}),e.jsx("span",{style:{fontSize:"12px",fontWeight:"600",color:"#8E8E93",letterSpacing:"0.5px",textTransform:"uppercase"},children:"SCORE"})]}),e.jsx("div",{style:{position:"absolute",bottom:"-2px",left:"50%",transform:"translateX(-50%)",width:"36px",height:"36px",borderRadius:"50%",background:"#fff",boxShadow:"0 4px 12px rgba(0,0,0,0.12)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px"},children:"üòä"})]}),e.jsx("h3",{style:{fontSize:"20px",fontWeight:"700",color:"#1C1C1E",marginBottom:"12px"},children:"Fairness Score"}),e.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"6px",padding:"8px 18px",background:"rgba(255,149,0,0.12)",borderRadius:"100px",border:"1px solid rgba(255,149,0,0.2)"},children:[e.jsx("span",{children:"üî•"}),e.jsx("span",{style:{fontSize:"13px",fontWeight:"700",color:"#FF9500",letterSpacing:"0.5px",textTransform:"uppercase"},children:"3 DAYS BALANCED STREAK"})]})]}),e.jsx("p",{style:{fontSize:"12px",fontWeight:"700",color:"#8E8E93",letterSpacing:"0.8px",textTransform:"uppercase",marginBottom:"12px"},children:"SPENDING CATEGORIES"}),((g=r==null?void 0:r.categories)==null?void 0:g.length)>0?r.categories.map((t,i)=>{const n=Math.round(t.amount/w*100),o=["üè†","üçï","üöó","üõí","üé¨","üí°"][i%6],f=["#6347F5","#34C759","#FF9500"],u=f[i%f.length];return e.jsx("div",{style:{background:"#fff",borderRadius:"20px",padding:"16px 20px",marginBottom:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"},children:e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"14px"},children:[e.jsx("div",{style:{width:"44px",height:"44px",borderRadius:"14px",background:"rgba(99,71,245,0.08)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"22px",flexShrink:0},children:o}),e.jsxs("div",{style:{flex:1,minWidth:0},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"4px"},children:[e.jsxs("div",{children:[e.jsx("p",{style:{fontSize:"17px",fontWeight:"700",color:"#1C1C1E",margin:"0 0 2px"},children:t.name}),e.jsxs("p",{style:{fontSize:"13px",color:"#8E8E93",margin:0},children:["Your share: ",Math.round(t.yourShare||n),"%"]})]}),e.jsxs("div",{style:{textAlign:"right"},children:[e.jsxs("p",{style:{fontSize:"17px",fontWeight:"700",color:"#1C1C1E",margin:"0 0 2px"},children:[k,t.amount.toFixed(0)]}),e.jsx("div",{style:{display:"inline-flex",alignItems:"center",padding:"2px 8px",background:"#F2F2F7",borderRadius:"6px"},children:e.jsx("span",{style:{fontSize:"11px",fontWeight:"600",color:"#8E8E93"},children:"Total"})})]})]}),e.jsx("div",{style:{height:"6px",background:"#F2F2F7",borderRadius:"3px",overflow:"hidden",marginTop:"8px"},children:e.jsx("div",{style:{height:"100%",width:`${n}%`,background:`linear-gradient(90deg, ${u}, ${u}CC)`,borderRadius:"3px",transition:"width 600ms ease-out"}})})]})]})},t.name)}):e.jsx("div",{style:{textAlign:"center",padding:"32px 0",color:"#8E8E93"},children:"No category data yet"})]}),e.jsx(m,{})]})}export{B as default};
