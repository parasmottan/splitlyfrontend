import{u as j,r as a,j as e}from"./index-D2hiQaAV.js";import{a as b,I as m}from"./index-B02zu7Fg.js";import{b as w}from"./index-DwI296of.js";import{u as C}from"./groupStore-DTKMQI9u.js";const N=["Trip","House","Project","Couple","Other"],y=[{code:"INR",symbol:"₹",label:"INR (₹)"},{code:"USD",symbol:"$",label:"USD ($)"},{code:"EUR",symbol:"€",label:"EUR (€)"},{code:"GBP",symbol:"£",label:"GBP (£)"}];function I(){const l=j(),{createGroup:h,loading:n}=C(),[s,u]=a.useState(""),[t,g]=a.useState("trip"),[i,v]=a.useState("INR"),[c,d]=a.useState(!1),[p,x]=a.useState(!1),o=y.find(r=>r.code===i),f=async()=>{if(s.trim())try{const r=await h({name:s.trim(),type:t.toLowerCase(),currency:i,currencySymbol:(o==null?void 0:o.symbol)||"₹"});l(`/groups/${r._id}`,{replace:!0})}catch{}};return e.jsxs("div",{className:"page page-white",style:{padding:"0 20px",minHeight:"100dvh",display:"flex",flexDirection:"column"},children:[e.jsx("div",{className:"header",children:e.jsxs("button",{className:"header-back",onClick:()=>l(-1),children:[e.jsx(b,{})," Back"]})}),e.jsx("h1",{className:"title-large",style:{marginBottom:"8px"},children:"New Group"}),e.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"16px",marginBottom:"32px"},children:"Give your group a name and add a photo."}),e.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"32px"},children:e.jsxs("div",{style:{width:"100px",height:"100px",borderRadius:"50%",background:"var(--gray-100)",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},children:[e.jsx(w,{style:{fontSize:"32px",color:"var(--gray-400)"}}),e.jsx("div",{style:{position:"absolute",bottom:"0",right:"0",width:"28px",height:"28px",background:"var(--blue)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",border:"2px solid white"},children:e.jsx("span",{style:{color:"white",fontSize:"14px"},children:"✎"})})]})}),e.jsxs("div",{className:"card",style:{padding:"0 16px",marginBottom:"20px"},children:[e.jsxs("div",{className:"form-row",children:[e.jsx("span",{className:"form-row-label",children:"Name"}),e.jsx("input",{type:"text",placeholder:"e.g. Summer Trip",value:s,onChange:r=>u(r.target.value),style:{textAlign:"right",border:"none",fontSize:"16px",color:"var(--text-tertiary)",background:"transparent",width:"60%"}})]}),e.jsxs("div",{className:"form-row",onClick:()=>d(!c),style:{cursor:"pointer"},children:[e.jsx("span",{className:"form-row-label",children:"Type"}),e.jsxs("span",{className:"form-row-value",children:[t.charAt(0).toUpperCase()+t.slice(1),e.jsx(m,{style:{fontSize:"16px",color:"var(--gray-400)"}})]})]}),c&&e.jsx("div",{style:{padding:"8px 0",borderTop:"1px solid var(--gray-100)"},children:N.map(r=>e.jsx("div",{style:{padding:"10px 0",cursor:"pointer",color:t===r.toLowerCase()?"var(--blue)":"var(--text-primary)",fontWeight:t===r.toLowerCase()?"600":"400"},onClick:()=>{g(r.toLowerCase()),d(!1)},children:r},r))})]}),e.jsxs("div",{className:"card",style:{padding:"0 16px",marginBottom:"32px"},children:[e.jsxs("div",{className:"form-row",onClick:()=>x(!p),style:{cursor:"pointer"},children:[e.jsx("span",{className:"form-row-label",children:"Currency"}),e.jsxs("span",{className:"form-row-value",children:[o==null?void 0:o.label,e.jsx(m,{style:{fontSize:"16px",color:"var(--gray-400)"}})]})]}),p&&e.jsx("div",{style:{padding:"8px 0",borderTop:"1px solid var(--gray-100)"},children:y.map(r=>e.jsx("div",{style:{padding:"10px 0",cursor:"pointer",color:i===r.code?"var(--blue)":"var(--text-primary)",fontWeight:i===r.code?"600":"400"},onClick:()=>{v(r.code),x(!1)},children:r.label},r.code))})]}),e.jsx("p",{style:{fontSize:"13px",color:"var(--text-secondary)",lineHeight:"1.5",marginBottom:"24px"},children:"You can add more people to the group after it's created. Everyone will be notified via email."}),e.jsx("div",{style:{flex:1}}),e.jsx("button",{className:"btn-primary",onClick:f,disabled:n||!s.trim(),style:{marginBottom:"32px"},children:n?"Creating...":"Create Group"})]})}export{I as default};
