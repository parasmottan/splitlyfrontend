import{u as O,e as W,a as A,r as o,j as r}from"./index-7P9_Ad09.js";function V(){const l=O(),y=W(),{verifyOtp:m,resendOtp:j,error:x,clearError:v}=A(),{name:S,email:c,password:D}=y.state||{},[s,d]=o.useState(["","","",""]),[u,f]=o.useState(24),[g,h]=o.useState(!1),[C,b]=o.useState(!1),a=o.useRef([]);o.useEffect(()=>{c||l("/register",{replace:!0})},[c,l]),o.useEffect(()=>{const t=setInterval(()=>{f(e=>e>0?e-1:0)},1e3);return()=>clearInterval(t)},[]);const w=(t,e)=>{const n=t.target.value;if(isNaN(n))return;const i=[...s];i[e]=n.substring(n.length-1),d(i),n&&e<3&&a.current[e+1].focus()},k=(t,e)=>{t.key==="Backspace"&&!s[e]&&e>0&&a.current[e-1].focus()},R=t=>{var n;t.preventDefault();const e=t.clipboardData.getData("text").replace(/\D/g,"").slice(0,4);if(e.length>0){const i=["","","",""];for(let p=0;p<e.length;p++)i[p]=e[p];d(i);const z=Math.min(e.length,3);(n=a.current[z])==null||n.focus()}},F=async t=>{t.preventDefault();const e=s.join("");if(!(e.length<4)){h(!0);try{await m(S,c,D,e),l("/groups",{replace:!0})}catch{}h(!1)}},E=async()=>{if(!(u>0)){b(!0);try{await j(c),f(60),d(["","","",""]),a.current[0].focus()}catch{}b(!1)}},B=t=>`0:${t.toString().padStart(2,"0")}`;return r.jsxs("div",{style:{display:"flex",flexDirection:"column",minHeight:"100dvh",background:"linear-gradient(155deg, #EBEDff 0%, #D9E0FF 30%, #C8D6FF 60%, #DDE6F8 100%)",padding:"0"},children:[r.jsx("button",{onClick:()=>l(-1),style:{position:"absolute",top:"52px",left:"24px",width:"36px",height:"36px",borderRadius:"50%",background:"rgba(255,255,255,0.5)",backdropFilter:"blur(10px)",border:"1px solid rgba(255,255,255,0.6)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"18px",color:"#111827",cursor:"pointer"},children:"â†"}),r.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",padding:"100px 28px 0"},children:[r.jsx("h1",{style:{fontSize:"36px",fontWeight:"800",marginBottom:"12px",color:"#0F1130",letterSpacing:"-0.8px",lineHeight:"1.1"},children:"Check your vibe ðŸ’Œ"}),r.jsx("p",{style:{color:"#555875",fontSize:"16px",fontWeight:"400",marginBottom:"44px",lineHeight:"1.5"},children:"We sent a code to your email."}),x&&r.jsx("div",{style:{background:"rgba(255,59,48,0.1)",color:"#DC2626",padding:"14px 16px",borderRadius:"16px",marginBottom:"24px",fontSize:"15px",border:"1px solid rgba(220,38,38,0.2)"},children:x}),r.jsxs("form",{onSubmit:F,children:[r.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"14px",marginBottom:"28px"},children:s.map((t,e)=>r.jsx("input",{ref:n=>a.current[e]=n,type:"text",inputMode:"numeric",maxLength:1,value:t,onChange:n=>{w(n,e),v()},onKeyDown:n=>k(n,e),onPaste:e===0?R:void 0,style:{width:"64px",height:"72px",borderRadius:"20px",border:t?"2.5px solid rgba(99,71,245,0.7)":"2px solid rgba(255,255,255,0.7)",background:t?"rgba(255,255,255,0.85)":"rgba(255,255,255,0.45)",backdropFilter:"blur(12px)",fontSize:"28px",fontWeight:"700",color:t?"#6347F5":"#9CA3AF",textAlign:"center",outline:"none",boxShadow:t?"0 8px 24px rgba(99,71,245,0.18)":"0 2px 8px rgba(0,0,0,0.04)",transition:"all 200ms ease"}},e))}),r.jsx("p",{style:{textAlign:"center",marginBottom:"36px",fontSize:"15px",fontWeight:"600"},children:u>0?r.jsxs("span",{style:{color:"var(--blue)"},children:["Resend code in ",B(u)]}):r.jsx("span",{style:{color:"var(--blue)",cursor:"pointer"},onClick:E,children:C?"Resending...":"Resend Code"})}),r.jsx("button",{type:"submit",disabled:g||s.join("").length<4,style:{width:"100%",padding:"18px 24px",background:"linear-gradient(135deg, #6347F5 0%, #4B32CC 100%)",color:"white",fontSize:"17px",fontWeight:"700",borderRadius:"100px",border:"none",cursor:"pointer",boxShadow:"0 8px 24px rgba(99,71,245,0.35)",opacity:g||s.join("").length<4?.5:1,transition:"opacity 200ms"},children:g?"Verifying...":"Verify & Enter"})]})]})]})}export{V as default};
