import{c as s,d as n}from"./index-BEeK-z6j.js";const f=s((o,r)=>({notifications:[],unreadCount:0,loading:!1,fetchNotifications:async()=>{o({loading:!0});try{const{data:a}=await n.get("/notifications");o({notifications:a,unreadCount:a.filter(t=>!t.isRead).length,loading:!1})}catch{o({loading:!1})}},markAsRead:async a=>{try{await n.patch(`/notifications/${a}/read`);const t=r().notifications.map(i=>i._id===a?{...i,isRead:!0}:i);o({notifications:t,unreadCount:t.filter(i=>!i.isRead).length})}catch{}},markAllRead:async()=>{try{await n.post("/notifications/read-all");const a=r().notifications.map(t=>({...t,isRead:!0}));o({notifications:a,unreadCount:0})}catch{}},sendReminder:async(a,t,i,e)=>{try{return await n.post("/notifications/remind",{debtorId:a,groupId:t,amount:i,message:e}),!0}catch(c){throw c}}}));export{f as u};
